(window.webpackJsonp=window.webpackJsonp||[]).push([[45,13,17,22,23],{523:function(t,e,r){var content=r(534);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("cdc2c944",content,!0,{sourceMap:!1})},526:function(t,e,r){var content=r(538);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("0dca5f8e",content,!0,{sourceMap:!1})},529:function(t,e,r){"use strict";r.r(e);r(226);var n=r(21),o=r(40),l=r(37),c=r(26),d=r(12),h=r(105),m=r(544);function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(c.a)(t);if(e){var o=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var v=function(t,e,r,desc){var n,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(l=(o<3?n(l):o>3?n(e,r,l):n(e,r))||l);return o>3&&l&&Object.defineProperty(e,r,l),l},_=function(t){Object(o.a)(r,t);var e=f(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return r}(h.Vue);v([Object(h.Prop)({default:240})],_.prototype,"width",void 0),v([Object(h.Prop)({default:300})],_.prototype,"height",void 0),v([Object(h.Prop)({default:[]})],_.prototype,"data",void 0);var y=_=v([Object(h.Component)({components:{CardItem:m.default}})],_),w=(r(533),r(87)),component=Object(w.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"horizontal-list"},t._l(t.data,(function(e,n){return r("li",{key:n,staticClass:"item"},[r("CardItem",{key:"value_"+n,staticClass:"mt-2 mb-4",attrs:{horizontal:!0,item:e,width:t.width,height:t.height}})],1)})),0)}),[],!1,null,null,null);e.default=component.exports},531:function(t,e,r){var content=r(532);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("b1bed018",content,!0,{sourceMap:!1})},532:function(t,e,r){var n=r(15)(!1);n.push([t.i,".theme--light.v-breadcrumbs .v-breadcrumbs__divider,.theme--light.v-breadcrumbs .v-breadcrumbs__item--disabled{color:rgba(0,0,0,.38)}.theme--dark.v-breadcrumbs .v-breadcrumbs__divider,.theme--dark.v-breadcrumbs .v-breadcrumbs__item--disabled{color:hsla(0,0%,100%,.5)}.v-breadcrumbs{align-items:center;display:flex;flex-wrap:wrap;flex:0 1 auto;list-style-type:none;margin:0;padding:18px 12px}.v-breadcrumbs li{align-items:center;display:inline-flex;font-size:14px}.v-breadcrumbs li .v-icon{font-size:16px}.v-breadcrumbs li:nth-child(2n){padding:0 12px}.v-breadcrumbs__item{align-items:center;display:inline-flex;text-decoration:none;transition:.3s cubic-bezier(.25,.8,.5,1)}.v-breadcrumbs__item--disabled{pointer-events:none}.v-breadcrumbs--large li,.v-breadcrumbs--large li .v-icon{font-size:16px}",""]),t.exports=n},533:function(t,e,r){"use strict";r(523)},534:function(t,e,r){var n=r(15)(!1);n.push([t.i,".horizontal-list{overflow-x:auto;white-space:nowrap;-webkit-overflow-scrolling:touch;padding-left:0!important;padding-right:0}.item{display:inline-block;margin-right:16px;margin-left:16px}",""]),t.exports=n},535:function(t,e,r){"use strict";(function(t){r(226),r(55);var n=r(14),o=r(21),l=r(35),c=r(40),d=r(37),h=r(26),m=r(12),f=r(105),v=r(82),_=r.n(v),y=r(529);function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var k=function(t,e,r,desc){var n,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(l=(o<3?n(l):o>3?n(e,r,l):n(e,r))||l);return o>3&&l&&Object.defineProperty(e,r,l),l},x=function(e){Object(c.a)(h,e);var r,d=w(h);function h(){var t;return Object(o.a)(this,h),(t=d.apply(this,arguments)).moreLikeThisData=[],t}return Object(l.a)(h,[{key:"mounted",value:function(){this.moreLikeThis()}},{key:"watchId",value:function(){this.moreLikeThis()}},{key:"moreLikeThis",value:(r=Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,l,c,d,i,h,source,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.itemId,n={query:{more_like_this:{fields:this.fields,like:this.query,min_term_freq:0,min_doc_freq:0,max_query_terms:12}},size:21},o=t.env.es+"/main/_search",e.next=5,_.a.post(o,n,{auth:{username:"search",password:t.env.password+""}});case 5:if(l=e.sent,c=l.data.hits.hits,d=[],c.length>1)for(i=0;i<c.length;i++)(h=c[i])._id!==r&&(source=h._source,m=this.localePath({name:"item-id",params:{id:h._id}}),d.push({_id:"abc",_source:{_label:source._label,_thumbnail:source._thumbnail,_url:[t.env.baseUrl+m]},to:m}));this.moreLikeThisData=d;case 10:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}]),h}(f.Vue);k([Object(f.Prop)({required:!0})],x.prototype,"itemId",void 0),k([Object(f.Prop)({required:!0})],x.prototype,"query",void 0),k([Object(f.Prop)({required:!0})],x.prototype,"fields",void 0),k([Object(f.Watch)("itemId")],x.prototype,"watchId",null),x=k([Object(f.Component)({components:{HorizontalItems:y.default}})],x),e.a=x}).call(this,r(123))},536:function(t,e,r){"use strict";(function(t){r(229),r(230),r(81),r(226),r(55);var n=r(14),o=r(21),l=r(35),c=r(40),d=r(37),h=r(26),m=r(12),f=r(105),v=r(82),_=r.n(v),y=r(529);function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var k=function(t,e,r,desc){var n,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(l=(o<3?n(l):o>3?n(e,r,l):n(e,r))||l);return o>3&&l&&Object.defineProperty(e,r,l),l},x=function(e){Object(c.a)(h,e);var r,d=w(h);function h(){var t;return Object(o.a)(this,h),(t=d.apply(this,arguments)).moreLikeThisData=[],t}return Object(l.a)(h,[{key:"mounted",value:function(){this.moreLikeThis()}},{key:"watchId",value:function(){this.moreLikeThis()}},{key:"moreLikeThis",value:(r=Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,l,c,d,h,m,f,map,i,v,y,w,k,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.env.es+"/image/_doc/"+this.itemId,n="search",o=t.env.password,e.next=5,_.a.get(r,{auth:{username:n,password:o}});case 5:return l=e.sent,c=l.data._source.similar_images.slice(0,10),d={query:{terms:{_id:c}}},h=t.env.es+"/main/_search",e.next=11,_.a.post(h,d,{auth:{username:n,password:o}});case 11:for(m=e.sent,f=m.data.hits.hits,map={},i=0;i<f.length;i++)(v=f[i]).access=this.$utils.formatArrayValue(v._source.tags),map[v._id]=v;for(y=[],w=0;w<c.length;w++)k=c[w],map[k]&&((x=map[k]).to=this.localePath({name:"item-id",params:{id:k}}),x._source.description=[],y.push(x));this.moreLikeThisData=y;case 18:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}]),h}(f.Vue);k([Object(f.Prop)({required:!0})],x.prototype,"itemId",void 0),k([Object(f.Watch)("itemId")],x.prototype,"watchId",null),x=k([Object(f.Component)({components:{HorizontalItems:y.default}})],x),e.a=x}).call(this,r(123))},537:function(t,e,r){"use strict";r(526)},538:function(t,e,r){var n=r(15)(!1);n.push([t.i,'.leaflet-cluster-anim .leaflet-marker-icon,.leaflet-cluster-anim .leaflet-marker-shadow{transition:transform .3s ease-out,opacity .3s ease-in}.leaflet-cluster-spider-leg{transition:stroke-dashoffset .3s ease-out,stroke-opacity .3s ease-in}.marker-cluster-small{background-color:rgba(181,226,140,.6)}.marker-cluster-small div{background-color:rgba(110,204,57,.6)}.marker-cluster-medium{background-color:rgba(241,211,87,.6)}.marker-cluster-medium div{background-color:rgba(240,194,12,.6)}.marker-cluster-large{background-color:rgba(253,156,115,.6)}.marker-cluster-large div{background-color:rgba(241,128,23,.6)}.leaflet-oldie .marker-cluster-small{background-color:#b5e28c}.leaflet-oldie .marker-cluster-small div{background-color:#6ecc39}.leaflet-oldie .marker-cluster-medium{background-color:#f1d357}.leaflet-oldie .marker-cluster-medium div{background-color:#f0c20c}.leaflet-oldie .marker-cluster-large{background-color:#fd9c73}.leaflet-oldie .marker-cluster-large div{background-color:#f18017}.marker-cluster{background-clip:padding-box;border-radius:20px}.marker-cluster div{width:30px;height:30px;margin-left:5px;margin-top:5px;text-align:center;border-radius:15px;font:12px "Helvetica Neue",Arial,Helvetica,sans-serif}.marker-cluster span{line-height:30px}',""]),t.exports=n},545:function(t,e,r){"use strict";r.r(e);r(226);var n=r(21),o=r(40),l=r(37),c=r(26),d=r(12),h=r(105);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(c.a)(t);if(e){var o=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var f=function(t,e,r,desc){var n,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(l=(o<3?n(l):o>3?n(e,r,l):n(e,r))||l);return o>3&&l&&Object.defineProperty(e,r,l),l},v={};v=r(553);var _=function(t){Object(o.a)(r,t);var e=m(r);function r(){var t;return Object(n.a)(this,r),(t=e.apply(this,arguments)).tileProviders=[{name:"OpenStreetMap",visible:!0,attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"},{name:"OpenTopoMap",visible:!1,url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",attribution:'Map data: &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}],t}return r}(h.Vue);f([Object(h.Prop)()],_.prototype,"markers",void 0),f([Object(h.Prop)({default:1})],_.prototype,"zoom",void 0),f([Object(h.Prop)({default:function(){return[38,0]}})],_.prototype,"center",void 0);var y=_=f([Object(h.Component)({components:{"l-marker-cluster":v}})],_),w=(r(537),r(87)),k=r(106),x=r.n(k),O=r(180),component=Object(w.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("client-only",[r("l-map",{staticStyle:{"z-index":"0"},attrs:{zoom:t.zoom,center:t.center}},[r("l-control-layers",{attrs:{position:"topright"}}),t._v(" "),t._l(t.tileProviders,(function(t){return r("l-tile-layer",{key:t.name,attrs:{name:t.name,visible:t.visible,url:t.url,attribution:t.attribution,"layer-type":"base"}})})),t._v(" "),r("l-marker-cluster",t._l(t.markers,(function(marker,e){return r("l-marker",{key:e,attrs:{"lat-lng":marker.latlng}},[r("l-popup",[r("nuxt-link",{attrs:{to:t.localePath(marker.path)}},[t._v(t._s(marker.content))]),t._v(" "),marker.image?[r("v-img",{staticClass:"ma-2",attrs:{"max-height":"150px","min-height":"90px",src:marker.image,contain:""}})]:t._e()],2)],1)})),1)],2)],1)}),[],!1,null,null,null);e.default=component.exports;x()(component,{VImg:O.a})},556:function(t,e,r){"use strict";(function(t){r(229),r(230),r(27),r(38),r(72),r(17),r(32),r(44),r(51),r(55);var n=r(14),o=r(82),l=r.n(o),c=r(529),d=r(517),h=r(545),m=r(591),f=r(590);e.a={components:{HorizontalItems:c.default,ResultOption:d.default,Mapc:h.default,MoreLikeThis:m.default,SimilarImages:f.default},asyncData:function(e){return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,c,d,h,m,f,data,source;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.payload,o=e.app,!n){r.next=5;break}return r.abrupt("return",n);case 5:return c=o.context.route.params.id,d=t.env.es+"/main/_doc/"+c,h="search",m=t.env.password,r.next=11,l.a.get(d,{auth:{username:h,password:m}});case 11:return f=r.sent,data=f.data,(source=data._source).manifest&&(source.manifest=source.manifest[0]),source.member&&(source.member=source.member[0]),source._url&&(source._url=source._url[0]),source.id=f._id,source.sourceData="https://"+h+":"+m+"@"+d.split("://")[1],r.abrupt("return",{source:source});case 20:case"end":return r.stop()}}),r)})))()},data:function(){return{baseUrl:"https://nakamura196.github.io/depcha",prefix:"https://w3id.org/hi",endpoint:"https://diyhistory.org/c.php/http://3.212.248.73:8890/sparql",github:"https://w3id.org/hi",userUids:[],entity:{agential:[],spatial:[],about:[],all:[]},settings:{agential:{type:"type:Agent",query:"fc-agentials",label:"人物",slug:"entity/chname",mdi:"mdi-account"},spatial:{type:"type:Place",query:"fc-places",label:"場所",mdi:"mdi-map",slug:"entity/place"},about:{type:"type:Keyword",query:"fc-about",label:"キーワード",mdi:"mdi-tag",slug:"term/keyword"},temporal:{type:"type:Time",query:"fc-temporal",label:"時間",mdi:"mdi-calendar",slug:"entity/time"}},markers:[],center:null,relatedItems:[]}},computed:{url:function(){return this.source._url},uri:function(){return this.prefix+"/api/data/"+this.id},id:function(){return this.$route.params.id},title:function(){return this.source._label},breadcrumbs:function(){return[{text:"HOME",disabled:!1,to:this.localePath({name:"index"}),exact:!0},{text:this.$t("search"),disabled:!1,to:this.localePath({name:"search"}),exact:!0},{text:this.title}]}},created:function(){this.getEntity("agential"),this.getEntity("spatial"),this.getEntity("about"),this.getEntity("temporal"),this.getMarker(),this.getRelatedItems()},methods:{getEntity:function(){var e=arguments,r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var o,source,c,d,h,m,i,image,f,v,_,filter,y,w,k,x,map,O,j,R,P,C,I,$,E,T,D;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=e.length>0&&void 0!==e[0]?e[0]:"spatial",source=r.source,c=r.settings[o],source[o]){n.next=5;break}return n.abrupt("return");case 5:for(d=source[o],h=[],m=[],i=0;i<d.length;i++)image=c.mdi,f=d[i],v=r.localePath({name:"entity-slug-id",params:{slug:o,id:f}}),h.push({_id:"abc",_source:{_label:[f],_thumbnail:[image],_url:[r.baseUrl+v]},to:v}),_=r.github+"/api/"+c.slug+"/"+f,m.push("?s = <".concat(_,">"));if(r.entity[o]=h,0!==m.length){n.next=12;break}return n.abrupt("return");case 12:return filter=m.join(" || "),y="\n      PREFIX schema: <http://schema.org/>\n      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n      SELECT DISTINCT ?s ?label ?description ?image WHERE {\n        ?cho ?p ?s . \n        ?s rdfs:label ?label .\n        filter (".concat(filter,")\n        optional { ?s schema:description ?description }\n        optional { ?s schema:image ?image }\n      }\n      "),w=(w=r.endpoint+"?query=")+encodeURIComponent(y)+"&output=json",n.next=18,l.a.get(w);case 18:for(k=n.sent,x=k.data.results.bindings,map={},O=0;O<x.length;O++)j=x[O],map[j.s.value]=j;R=0;case 23:if(!(R<d.length)){n.next=38;break}if(P=h[R]){n.next=27;break}return n.abrupt("continue",35);case 27:if(C=d[R],I=r.github+"/api/"+c.slug+"/"+C,map[I]){n.next=31;break}return n.abrupt("continue",35);case 31:$=map[I],E=$.image?[$.image.value]:[t.env.settings[o].image],$.description&&(P._source.description=[$.description.value+' <a href="https://ja.wikipedia.org/wiki/'.concat(C,'">Wikipedia</a>')]),P._source._thumbnail=E;case 35:R++,n.next=23;break;case 38:for(r.entity[o]=h,T=r.entity.all,D=0;D<h.length;D++)T.push(h[D]);r.entity.all=T;case 42:case"end":return n.stop()}}),n)})))()},getMarker:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var source,r,n,o,c,i,d,h,filter,m,f,v,_,y,w,k,x,O,label,j,R,marker,P;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(source=t.source,r="spatial",n=t.settings[r],source[r]){e.next=5;break}return e.abrupt("return");case 5:for(o=source[r],c=[],i=0;i<o.length;i++)d=o[i],h=t.github+"/api/"+n.slug+"/"+d,c.push("?spatial = <".concat(h,">"));if(0!==c.length){e.next=10;break}return e.abrupt("return");case 10:return filter=c.join(" || "),m="\n      PREFIX schema: <http://schema.org/>\n      PREFIX jps: <https://jpsearch.go.jp/term/property#>\n      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n      SELECT DISTINCT ?spatial ?lat ?long ?label WHERE {\n        ?cho jps:sourceInfo ?source; schema:spatial ?spatial . \n        filter (".concat(filter,")\n        ?spatial rdfs:label ?label; schema:geo ?geo .\n        ?geo schema:latitude ?lat; schema:longitude ?long .\n      }\n      "),f=(f=t.endpoint+"?query=")+encodeURIComponent(m)+"&output=json",e.next=16,l.a.get(f);case 16:for(v=e.sent,_=v.data.results.bindings,y=[],w=0,k=0,x=0;x<_.length;x++)O=_[x],label=O.label.value,"fc-spatial",{}["fc-spatial"]=label,j=Number(O.lat.value),R=Number(O.long.value),marker={latlng:[j,R],content:label,path:{name:"entity-slug-id",params:{slug:"spatial",id:label}}},w+=j,k+=R,y.push(marker);_.length>0&&(P=[w/_.length,k/_.length],t.center=P,t.markers=y);case 23:case"end":return e.stop()}}),e)})))()},getRelatedItems:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var u,r,n,o,c,d,i,h,m,dd,f,v,_,y,source,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=t.uri,r="\n        PREFIX schema: <http://schema.org/>\n        PREFIX hi: <https://w3id.org/hi/api/term/property#>\n        PREFIX jps: <https://jpsearch.go.jp/term/property#>\n        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n        SELECT DISTINCT ?p ?label_k ?cho ?image ?label WHERE { \n          BIND(<".concat(u,"> as ?cho2)\n          ?cho2 ?p ?s . \n          ?s rdfs:label ?label_k . \n          ?cho ?p ?s . \n          filter (?p != rdf:type && ?p != jps:agential \n          && ?p != schema:license && ?p != jps:relationType && ?p != jps:spatial)\n          filter(?cho != ?cho2)\n          ?cho rdfs:label ?label . \n          optional { ?cho schema:image ?image . }\n        } order by rand() limit 20\n      "),n=(n=t.endpoint+"?query=")+encodeURIComponent(r)+"&output=json",e.next=6,l.a.get(n);case 6:for(o=e.sent,c=o.data.results.bindings,d=[],i=0;i<c.length;i++)h=c[i],m=h.cho.value,dd=m.split("/"),f=dd[dd.length-1],v=h.p.value.split("/"),(_=v[v.length-1]).includes("#")&&(_=_.split("#")[1]),y=t.$t(_),source={_label:[h.label.value],_url:[t.baseUrl+t.localePath({name:"item-id",params:{id:f}})],description:["ja"===t.$i18n.locale?"".concat(y,"が同じ").concat(h.label_k.value,"のアイテムです。"):"".concat(y," ").concat(h.label_k.value," is the same.")]},w={to:t.localePath({name:"item-id",params:{id:f}}),_source:source},source._thumbnail=h.image?[h.image.value]:["https://raw.githubusercontent.com/hi-ut/static_images/main/no_image.svg"],d.push(w);t.relatedItems=d;case 11:case"end":return e.stop()}}),e)})))()},getIframeUrl:function(){if(!this.source.manifest)return null;var t=this.source.manifest;if(this.source.member){var e=this.source.member;return this.baseUrl+"/curation/?manifest="+t+"&canvas="+encodeURIComponent(e)}return"https://universalviewer.io/examples/uv/uv.html#?manifest="+t},getQuery:function(t,e){var map={};return map["fc-".concat(t)]=e,map},getCurationUrl:function(){var t=this.source.manifest;if(this.source.member){var e=this.source.member.split("#xywh="),r=e[0],n=e[1];return"http://codh.rois.ac.jp/software/iiif-curation-viewer/demo/?manifest="+t+"&canvas="+encodeURIComponent(r)+"&xywh="+n+"&xywh_highlight=border"}return"http://codh.rois.ac.jp/software/iiif-curation-viewer/demo/?manifest="+t}},head:function(){var title=this.title;return{title:title,meta:[{hid:"og:title",property:"og:title",content:title},{hid:"og:type",property:"og:type",content:"article"},{hid:"og:url",property:"og:url",content:this.url},{hid:"og:image",property:"og:image",content:this.thumbnail},{hid:"twitter:card",name:"twitter:card",content:"summary_large_image"}]}}}}).call(this,r(123))},557:function(t,e,r){var content=r(558);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("7c06aa28",content,!0,{sourceMap:!1})},558:function(t,e,r){var n=r(15)(!1);n.push([t.i,".theme--light.v-data-table{background-color:#fff;color:rgba(0,0,0,.87)}.theme--light.v-data-table .v-data-table__divider{border-right:thin solid rgba(0,0,0,.12)}.theme--light.v-data-table.v-data-table--fixed-header thead th{background:#fff;box-shadow:inset 0 -1px 0 rgba(0,0,0,.12)}.theme--light.v-data-table>.v-data-table__wrapper>table>thead>tr>th{color:rgba(0,0,0,.6)}.theme--light.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>td:last-child,.theme--light.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>td:not(.v-data-table__mobile-row),.theme--light.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>th:last-child,.theme--light.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>th:not(.v-data-table__mobile-row),.theme--light.v-data-table>.v-data-table__wrapper>table>thead>tr:last-child>th{border-bottom:thin solid rgba(0,0,0,.12)}.theme--light.v-data-table>.v-data-table__wrapper>table>tbody>tr.active{background:#f5f5f5}.theme--light.v-data-table>.v-data-table__wrapper>table>tbody>tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper){background:#eee}.theme--dark.v-data-table{background-color:#1e1e1e;color:#fff}.theme--dark.v-data-table .v-data-table__divider{border-right:thin solid hsla(0,0%,100%,.12)}.theme--dark.v-data-table.v-data-table--fixed-header thead th{background:#1e1e1e;box-shadow:inset 0 -1px 0 hsla(0,0%,100%,.12)}.theme--dark.v-data-table>.v-data-table__wrapper>table>thead>tr>th{color:hsla(0,0%,100%,.7)}.theme--dark.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>td:last-child,.theme--dark.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>td:not(.v-data-table__mobile-row),.theme--dark.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>th:last-child,.theme--dark.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>th:not(.v-data-table__mobile-row),.theme--dark.v-data-table>.v-data-table__wrapper>table>thead>tr:last-child>th{border-bottom:thin solid hsla(0,0%,100%,.12)}.theme--dark.v-data-table>.v-data-table__wrapper>table>tbody>tr.active{background:#505050}.theme--dark.v-data-table>.v-data-table__wrapper>table>tbody>tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper){background:#616161}.v-data-table{line-height:1.5;max-width:100%}.v-data-table>.v-data-table__wrapper>table{width:100%;border-spacing:0}.v-data-table>.v-data-table__wrapper>table>tbody>tr>td,.v-data-table>.v-data-table__wrapper>table>tbody>tr>th,.v-data-table>.v-data-table__wrapper>table>tfoot>tr>td,.v-data-table>.v-data-table__wrapper>table>tfoot>tr>th,.v-data-table>.v-data-table__wrapper>table>thead>tr>td,.v-data-table>.v-data-table__wrapper>table>thead>tr>th{padding:0 16px;transition:height .2s cubic-bezier(.4,0,.6,1)}.v-data-table>.v-data-table__wrapper>table>tbody>tr>th,.v-data-table>.v-data-table__wrapper>table>tfoot>tr>th,.v-data-table>.v-data-table__wrapper>table>thead>tr>th{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:.75rem;height:48px}.v-application--is-ltr .v-data-table>.v-data-table__wrapper>table>tbody>tr>th,.v-application--is-ltr .v-data-table>.v-data-table__wrapper>table>tfoot>tr>th,.v-application--is-ltr .v-data-table>.v-data-table__wrapper>table>thead>tr>th{text-align:left}.v-application--is-rtl .v-data-table>.v-data-table__wrapper>table>tbody>tr>th,.v-application--is-rtl .v-data-table>.v-data-table__wrapper>table>tfoot>tr>th,.v-application--is-rtl .v-data-table>.v-data-table__wrapper>table>thead>tr>th{text-align:right}.v-data-table>.v-data-table__wrapper>table>tbody>tr>td,.v-data-table>.v-data-table__wrapper>table>tfoot>tr>td,.v-data-table>.v-data-table__wrapper>table>thead>tr>td{font-size:.875rem;height:48px}.v-data-table__wrapper{overflow-x:auto;overflow-y:hidden}.v-data-table__progress{height:auto!important}.v-data-table__progress th{height:auto!important;border:none!important;padding:0;position:relative}.v-data-table--dense>.v-data-table__wrapper>table>tbody>tr>td,.v-data-table--dense>.v-data-table__wrapper>table>tbody>tr>th,.v-data-table--dense>.v-data-table__wrapper>table>tfoot>tr>td,.v-data-table--dense>.v-data-table__wrapper>table>tfoot>tr>th,.v-data-table--dense>.v-data-table__wrapper>table>thead>tr>td,.v-data-table--dense>.v-data-table__wrapper>table>thead>tr>th{height:32px}.v-data-table--has-top>.v-data-table__wrapper>table>tbody>tr:first-child:hover>td:first-child{border-top-left-radius:0}.v-data-table--has-top>.v-data-table__wrapper>table>tbody>tr:first-child:hover>td:last-child{border-top-right-radius:0}.v-data-table--has-bottom>.v-data-table__wrapper>table>tbody>tr:last-child:hover>td:first-child{border-bottom-left-radius:0}.v-data-table--has-bottom>.v-data-table__wrapper>table>tbody>tr:last-child:hover>td:last-child{border-bottom-right-radius:0}.v-data-table--fixed-header>.v-data-table__wrapper,.v-data-table--fixed-height .v-data-table__wrapper{overflow-y:auto}.v-data-table--fixed-header>.v-data-table__wrapper>table>thead>tr>th{border-bottom:0!important;position:-webkit-sticky;position:sticky;top:0;z-index:2}.v-data-table--fixed-header>.v-data-table__wrapper>table>thead>tr:nth-child(2)>th{top:48px}.v-application--is-ltr .v-data-table--fixed-header .v-data-footer{margin-right:17px}.v-application--is-rtl .v-data-table--fixed-header .v-data-footer{margin-left:17px}.v-data-table--fixed-header.v-data-table--dense>.v-data-table__wrapper>table>thead>tr:nth-child(2)>th{top:32px}",""]),t.exports=n},570:function(t,e,r){"use strict";r(72);var n=r(4),o=(r(531),r(76)),l=r(7);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h=Object(l.a)(o.a).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(n.a)({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(t){var e=this.generateRouteLink(),r=e.tag,data=e.data;return t("li",[t(r,d(d({},data),{},{attrs:d(d({},data.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}}),m=r(2),f=Object(m.h)("v-breadcrumbs__divider","li"),v=r(18);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}e.a=Object(l.a)(v.a).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(f,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var t=[],e=!!this.$scopedSlots.item,r=[],i=0;i<this.items.length;i++){var n=this.items[i];r.push(n.text),e?t.push(this.$scopedSlots.item({item:n})):t.push(this.$createElement(h,{key:r.join("."),props:n},[n.text])),i<this.items.length-1&&t.push(this.genDivider())}return t}},render:function(t){var e=this.$slots.default||this.genItems();return t("ul",{staticClass:"v-breadcrumbs",class:this.classes},e)}})},575:function(t,e,r){"use strict";r(17);var n=r(4),o=(r(557),r(2)),l=r(18),c=r(7);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}e.a=Object(c.a)(l.a).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(o.g)(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(t){return t("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},590:function(t,e,r){"use strict";r.r(e);var n=r(536).a,o=r(87),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.moreLikeThisData.length>0?r("div",[r("HorizontalItems",{key:t.itemId,attrs:{data:t.moreLikeThisData,height:150}})],1):t._e()}),[],!1,null,null,null);e.default=component.exports},591:function(t,e,r){"use strict";r.r(e);var n=r(535).a,o=r(87),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.moreLikeThisData.length>0?r("HorizontalItems",{key:t.itemId,attrs:{data:t.moreLikeThisData,height:150}}):t._e()}),[],!1,null,null,null);e.default=component.exports},638:function(t,e,r){"use strict";r.r(e);var n=r(556).a,o=r(87),l=r(106),c=r.n(l),d=r(570),h=r(236),m=r(503),f=r(211),v=r(180),_=r(59),y=r(575),w=r(521),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-sheet",{attrs:{color:"grey lighten-2"}},[r("v-container",{staticClass:"py-4",attrs:{fluid:""}},[r("v-breadcrumbs",{staticClass:"py-0",attrs:{items:t.breadcrumbs},scopedSlots:t._u([{key:"divider",fn:function(){return[r("v-icon",[t._v("mdi-chevron-right")])]},proxy:!0}])})],1)],1),t._v(" "),t.getIframeUrl()?[r("iframe",{attrs:{src:t.getIframeUrl(),width:"100%",height:"300",allowfullscreen:"",frameborder:"0"}})]:[r("v-sheet",{attrs:{color:"grey lighten-2"}},[r("v-img",{attrs:{contain:"",src:t.source._thumbnail[0],height:"150"}})],1)],t._v(" "),r("v-container",{staticClass:"mt-5"},[r("h1",{staticClass:"mb-5"},[t._v("\n      "+t._s(t.$utils.formatArrayValue(t.title))+"\n    ")]),t._v(" "),r("p",{staticClass:"text-center"},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"mx-2",attrs:{icon:"",target:"_blank",href:t.getCurationUrl()}},n),[r("img",{attrs:{src:t.baseUrl+"/img/icons/icp-logo.svg",width:"30px"}})])]}}])},[t._v(" "),r("span",[t._v(t._s("IIIF Curation Viewer"))])]),t._v(" "),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"mx-2",attrs:{icon:"",target:"_blank",href:t.baseUrl+"/snorql/?describe="+t.uri}},n),[r("img",{attrs:{src:t.baseUrl+"/img/icons/rdf-logo.svg",width:"30px"}})])]}}])},[t._v(" "),r("span",[t._v(t._s("RDF"))])]),t._v(" "),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"mx-2",attrs:{icon:"",target:"_blank",href:t.source.sourceData}},n),[r("img",{attrs:{src:t.baseUrl+"/img/icons/json-logo.svg",width:"30px"}})])]}}])},[t._v(" "),r("span",[t._v(t._s("JSON"))])]),t._v(" "),r("ResultOption",{attrs:{item:{label:t.title,url:t.url}}})],1),t._v(" "),r("v-simple-table",{staticClass:"mt-10",scopedSlots:t._u([{key:"default",fn:function(){return[r("tbody",[t._e(),t._v(" "),r("tr",[r("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("description")))]),t._v(" "),r("td",{staticClass:"py-5",domProps:{innerHTML:t._s(t.$utils.formatArrayValue(t.source.description,"<br />"))}})]),t._v(" "),t.source.text?r("tr",[r("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("text")))]),t._v(" "),r("td",{staticClass:"py-5"},[r("div",{staticStyle:{"max-height":"200px","overflow-y":"auto"},domProps:{innerHTML:t._s(t.$utils.formatArrayValue(t.source.text))}})])]):t._e(),t._v(" "),t._l(["type","agential","spatial","temporal","about","source"],(function(e,n){return[t.source[e]?r("tr",{key:n},[r("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t(e)))]),t._v(" "),r("td",{staticClass:"py-5"},t._l(t.source[e],(function(n,o){return r("nuxt-link",{key:o,staticClass:"mr-2",attrs:{to:t.localePath({name:"search",query:t.getQuery(e,n)})}},[t._v(t._s(n))])})),1)]):t._e()]}))],2)]},proxy:!0}])})],1),t._v(" "),r("v-container",{attrs:{fluid:""}},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.$refs.mlt&&t.$refs.mlt.moreLikeThisData.length>0,expression:"$refs.mlt && $refs.mlt.moreLikeThisData.length > 0"}],staticClass:"mt-10"},[r("div",{staticClass:"text-center"},[r("h3",{staticClass:"my-5"},[t._v(t._s(t.$t("タイトルが似ているアイテム")))])]),t._v(" "),r("MoreLikeThis",{ref:"mlt",attrs:{"item-id":t.id,query:t.source._label,fields:["_label"]}})],1),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.$refs.si&&t.$refs.si.moreLikeThisData.length>0,expression:"$refs.si && $refs.si.moreLikeThisData.length > 0"}],staticClass:"mt-10"},[r("div",{staticClass:"text-center"},[r("h3",{staticClass:"my-5"},[t._v(t._s(t.$t("画像が似ているアイテム")))])]),t._v(" "),r("SimilarImages",{ref:"si",attrs:{"item-id":t.id}})],1),t._v(" "),t.relatedItems.length>0?r("div",{staticClass:"mt-10"},[r("div",{staticClass:"text-center"},[r("h3",{staticClass:"my-5"},[t._v(t._s(t.$t("関連するアイテム")))])]),t._v(" "),r("HorizontalItems",{attrs:{data:t.relatedItems,height:"150"}})],1):t._e(),t._v(" "),t.entity.all.length>0?r("div",{staticClass:"mt-10"},[r("div",{staticClass:"text-center"},[r("h3",{staticClass:"my-5"},[t._v(t._s(t.$t("関連する事物")))])]),t._v(" "),r("HorizontalItems",{attrs:{data:t.entity.all,title:t.$t("agential"),height:"150"}})],1):t._e()]),t._v(" "),t.center?r("v-container",[r("div",{staticClass:"text-center"},[r("h3",{staticClass:"my-5"},[t._v(t._s(t.$t("spatial")))])]),t._v(" "),r("div",{staticClass:"my-2",staticStyle:{height:"40vh"},attrs:{id:"map-wrap"}},[r("mapc",{attrs:{markers:t.markers,zoom:2,center:t.center}})],1)]):t._e(),t._v(" "),r("v-sheet",{staticClass:"text-center pa-10 mt-10"},[r("small",[r("h3",{staticClass:"mb-5"},[t._v(t._s(t.$t("license")))]),t._v(" "),"ja"==t.$i18n.locale?[r("a",{attrs:{rel:"license",href:"http://creativecommons.org/licenses/by/4.0/"}},[r("img",{staticStyle:{"border-width":"0"},attrs:{alt:"クリエイティブ・コモンズ・ライセンス",src:"https://i.creativecommons.org/l/by/4.0/88x31.png"}})]),r("br"),t._v("この作品は"),r("a",{attrs:{rel:"license",href:"http://creativecommons.org/licenses/by/4.0/"}},[t._v("クリエイティブ・コモンズ 表示 4.0 国際 ライセンス")]),t._v("の下に提供されています。\n      ")]:[r("a",{attrs:{rel:"license",href:"http://creativecommons.org/licenses/by/4.0/"}},[r("img",{staticStyle:{"border-width":"0"},attrs:{alt:"Creative Commons License",src:"https://i.creativecommons.org/l/by/4.0/88x31.png"}})]),r("br"),t._v("This work is licensed under a\n        "),r("a",{attrs:{rel:"license",href:"http://creativecommons.org/licenses/by/4.0/"}},[t._v("Creative Commons Attribution 4.0 International License")]),t._v(".\n      ")]],2)])],2)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VBreadcrumbs:d.a,VBtn:h.a,VContainer:m.a,VIcon:f.a,VImg:v.a,VSheet:_.a,VSimpleTable:y.a,VTooltip:w.a})}}]);